네, 다음 디자인 결정인 **DD-06 (고객 맞춤형 지점 매칭 구조)**에 대한 최종 선택안 상세 정보를 출력하겠습니다. 🔍

이 결정은 **자연어 검색(BG-02)**을 통한 **개인 성향 맞춤형 지점 추천**이라는 시스템의 핵심 차별화 기능과 **검색 응답 시간(QAS-03)**을 확보하는 데 중점을 둡니다.

---

## 🛠️ DD-06 고객 맞춤형 지점 매칭 구조 최종 선택안

| 결정 ID | 디자인 결정 주제 | 최종 선택안 |
| :--- | :--- | :--- |
| **DD-06** | 지점 매칭 구조 | **Approach C: 전문 검색 엔진 도입** |

### 🎯 채택 상세 정보

이 설계는 **상용 LLM 서비스**를 **키워드/성향 추출**에만 사용하고, **전문 검색 엔진(DS-07)**을 통해 **고속 매칭 및 랭킹**을 처리하여 **정확도**와 **실시간 성능**을 동시에 확보하는 전략을 채택했습니다.

#### 1. 검색 및 분석 구조

| 컴포넌트 | 역할 및 패턴 | 적용 근거 |
| :--- | :--- | :--- |
| **Search Service** | **중앙 조정자** 역할. 고객의 자연어 쿼리를 받습니다. | N/A |
| **상용 LLM Service** | **자연어 분석 전담**. 고객의 쿼리(예: "기구가 많고 깨끗한 헬스장")를 받아 핵심 키워드/성향 태그(예: "기구 다양성", "청결")를 추출합니다[cite: 122]. | LLM의 높은 자연어 이해 능력(BG-02) 활용. |
| **전문 검색 엔진 (DS-07)** | **고속 인덱싱 및 매칭** 전담. 지점 소개글, 고객 리뷰, 추출된 성향 데이터를 모두 인덱싱하여 보관합니다[cite: 122]. | **QAS-03 (3초 이내 응답)** 목표를 달성하기 위한 필수 인프라. |

#### 2. 데이터 흐름 및 성능 택틱

| 단계 | 택틱/패턴 | 설명 |
| :--- | :--- | :--- |
| **성향 데이터 생성** | **Event Based / Data Replication** | **Search Service**는 LLM이 추출한 **지점 성향 데이터**를 **DS-07**에 비동기적으로 복제하여 인덱싱합니다. 이 데이터는 나중에 **맞춤형 알림(DD-07)**에도 사용됩니다. |
| **검색 실행** | **Pipe and Filter (파이프 및 필터)** | ① 고객 쿼리 입력 $\to$ ② **LLM 분석** (필터) $\to$ ③ **키워드 추출** $\to$ ④ **전문 검색 엔진** (필터/매칭) $\to$ ⑤ **추천 목록** 반환. |
| **성능 목표** | **Introduce Concurrency** | LLM 연동 후, **전문 검색 엔진**이 수많은 고객/지점 데이터를 **병렬적**으로 빠르게 랭킹 처리하여 **95% 응답 시간 3초 이내(QAS-03, BG-12)** 목표를 달성합니다. |

#### 3. Trade-off 관리

이 접근 방식은 **Approach B (LLM 기반 실시간 매칭)**의 **높은 비용과 지연 시간 위험**을 회피하고, **LLM**을 **저비용의 키워드 추출** 용도로만 제한하여 **정확도**와 **성능** 사이의 최적의 균형점을 찾습니다.

---

Would you like to proceed with the next design decision, **DD-07 (맞춤형 알림 부하 분산)**?