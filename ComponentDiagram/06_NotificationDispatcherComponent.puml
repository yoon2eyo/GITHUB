@startuml NotificationDispatcherComponent
' NotificationDispatcher_component.puml (가이드 준수)

package "Interface Layer" {
  interface INotificationApi
  component NotificationController
  INotificationApi -- NotificationController
}

package "Business Layer" {
  interface INotificationDispatcherService
  
  component NotificationDispatcherManager
  component NotificationDispatcherConsumer
  
  ' Service implementations
  INotificationDispatcherService -- NotificationDispatcherManager
}

package "System Interface Layer" {
  interface IPushNotificationGateway
  interface IMessageSubscriptionService
  interface IMessagePublisherService
  
  component FcmPushGateway
  component RabbitMQAdapter
  
  ' System interface implementations
  IPushNotificationGateway -- FcmPushGateway
  IMessageSubscriptionService -- RabbitMQAdapter
  IMessagePublisherService -- RabbitMQAdapter
}

' 패키지 외부 연결
' Interface Layer -> Business Layer
NotificationController ..( INotificationDispatcherService : <<HTTP>>

' Business Layer -> System Interface Layer
NotificationDispatcherManager ..( IPushNotificationGateway : <<HTTP>>
NotificationDispatcherConsumer ..( IPushNotificationGateway : <<HTTP>>
NotificationDispatcherConsumer ..( IMessageSubscriptionService : <<RabbitMQ>>

legend right
  Notification Dispatcher structure
  - Subscribes to domain events via Message Broker
  - Dispatches notifications via push gateway
  - Asynchronous event-driven notification delivery
end legend

@enduml
