@startuml HelperServiceComponent
' HelperService_component.puml (가이드 준수)

package "Interface Layer" {
  interface IHelperServiceApi
  component HelperTaskManagementApi
  IHelperServiceApi -- HelperTaskManagementApi
}

package "Business Layer" {
  interface ITaskManagementService
  interface IRewardConfirmationService
  interface IHelperEventConsumer
  
  component TaskManagementManager
  component RewardConfirmationManager
  component AIPanDokuConsumer
  component RewardUpdateConsumer
  component HelperEventConsumerAdapter
  
  ' Service implementations
  ITaskManagementService -- TaskManagementManager
  IRewardConfirmationService -- RewardConfirmationManager
  
  ' Event Consumer implementations
  IHelperEventConsumer -- AIPanDokuConsumer
  IHelperEventConsumer -- RewardUpdateConsumer
  
  ' Event Consumer Adapter
  HelperEventConsumerAdapter ..( IHelperEventConsumer : <<use>>
}

package "System Interface Layer" {
  interface IHelperRepository
  interface IPanDokuModelService [Internal ML Engine]
  interface IMessagePublisherService
  interface IMessageSubscriptionService
  
  component HelperRepositoryImpl
  component MessageBrokerComponent
  database HelperDatabase
  
  IHelperRepository -- HelperRepositoryImpl
  IMessagePublisherService -- MessageBrokerComponent
  IMessageSubscriptionService -- MessageBrokerComponent
  HelperRepositoryImpl ..( HelperDatabase : <<JDBC>>
}

' 패키지 외부 연결
' Interface Layer -> Business Layer
HelperTaskManagementApi ..( ITaskManagementService : <<HTTP>>
HelperTaskManagementApi ..( IRewardConfirmationService : <<HTTP>>

' Business Layer -> Message Broker 연결
TaskManagementManager ..( IMessagePublisherService : <<RabbitMQ>>
RewardConfirmationManager ..( IMessagePublisherService : <<RabbitMQ>>
HelperEventConsumerAdapter ..( IMessageSubscriptionService : <<RabbitMQ>>

' Business Layer -> System Interface Layer
TaskManagementManager ..( IHelperRepository : <<JDBC>>
RewardConfirmationManager ..( IHelperRepository : <<JDBC>>
AIPanDokuConsumer ..( IHelperRepository : <<JDBC>>
AIPanDokuConsumer ..( IPanDokuModelService : <<Local>>
RewardUpdateConsumer ..( IHelperRepository : <<JDBC>>

@enduml
