@startuml AIServiceComponent
' AIServiceComponent.puml (가이드 준수)

package "Interface Layer" {
  interface IAIServiceApi
  interface INLPServiceApi

  component AIServiceApiImpl
  component NLPServiceApiImpl
  
  IAIServiceApi -- AIServiceApiImpl
  INLPServiceApi -- NLPServiceApiImpl
}

package "Business Layer" {
  interface IKeywordExtractionService
  interface IContentAnalysisService
  
  component LLMKeywordExtractor
  component ContentAnalyzer
  component QueryTokenizer
  component IndexUpdateProcessor
  
  ' Service implementations
  IKeywordExtractionService -- LLMKeywordExtractor
  IContentAnalysisService -- ContentAnalyzer
  
  ' Business layer internal relationships
  ContentAnalyzer ..( IKeywordExtractionService : <<use>>
  IndexUpdateProcessor ..( IContentAnalysisService : <<Local>>
}

package "System Interface Layer" {
  interface IPanDokuModelService [Internal ML Engine]
  interface ISearchRepository
  interface IMessagePublisherService
  
  component SearchRepositoryImpl
  component MessageBrokerComponent
  
  database SearchDatabase
  
  ISearchRepository -- SearchRepositoryImpl
  IMessagePublisherService -- MessageBrokerComponent
  
  SearchRepositoryImpl ..( SearchDatabase : <<JDBC>>
}

' 패키지 외부 연결
' Interface Layer -> Business Layer
AIServiceApiImpl ..( IKeywordExtractionService : <<HTTP>>
NLPServiceApiImpl ..( IContentAnalysisService : <<HTTP>>

' Business Layer -> System Interface Layer (Internal ML Engine)
LLMKeywordExtractor ..( IPanDokuModelService : <<Local>>
ContentAnalyzer ..( ISearchRepository : <<JDBC>>
ContentAnalyzer ..( IMessagePublisherService : <<RabbitMQ>>
IndexUpdateProcessor ..( ISearchRepository : <<JDBC>>

@enduml
